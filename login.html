<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Login | Playnex Digital</title>
<link rel="icon" href="images/favicon.png" type="image/png" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
<link href="https://fonts.googleapis.com/css2?family=Poppins&family=Oswald&display=swap" rel="stylesheet" />
<style>
html, body {
  margin: 0; padding: 0; height: 100%;
  font-family: 'Poppins', sans-serif;
  background-color: #000; color: white;
  overflow: hidden;
}
* { box-sizing: border-box; }
.main-container { display: flex; width: 100%; height: 100vh; }
.form-section {
  flex: 1;
  background-color: #111;
  display: flex;
  flex-direction: column;
  align-items: center;
  overflow-y: auto;
  justify-content: flex-start;
  padding-top: 60px; /* form ko halka niche */
}
.form-content {
  width: 100%; max-width: 560px;
  padding: 10px 30px 60px 30px;
}
.logo { text-align: center; margin-bottom: 25px; } /* logo ko upar se thoda niche */
.logo img { height: 30px; max-width: 100%; }
h1 { font-family: 'Oswald', sans-serif; font-weight: 600; color: #fff; text-align: center; margin-top: 10px; margin-bottom: 10px; font-size: 32px; }
p.login-desc { text-align: center; color: rgba(255,255,255,0.7); margin-bottom: 30px; font-size: 14px; }
form { width: 100%; }
label { display: block; margin-top: 15px; font-weight: 500; }
label span.required { color: #ff4444; margin-left: 5px; }
.input-wrapper { position: relative; margin-bottom: 10px; }
input {
  width: 100%; padding: 14px; margin-top: 5px;
  border-radius: 6px; border: 1px solid #444;
  background-color: #222; color: white; font-size: 14px;
}
input::placeholder { color: rgba(255, 255, 255, 0.5); }
input.invalid { border-color: #ff4444; }
input.valid { border-color: white; }

/* Toggle password styles */
.toggle-password {
  position: absolute; top: 50%; right: 10px;
  transform: translateY(-50%);
  cursor: pointer;
  background: none; border: none; padding: 0; height: 24px; width: 36px;
  display: flex; align-items: center;
}
.toggle-password svg { width: 28px; height: 24px; stroke: rgba(255, 255, 255, 0.7); stroke-width: 2.2; fill: none; transition: stroke 0.3s ease; }
.toggle-password:hover svg { stroke: #fff; }
.toggle-password .slash { display: block; stroke: rgba(255,255,255,0.7); stroke-width: 2.2; opacity: 0; transition: opacity 0.3s ease; }
.toggle-password.active .slash { opacity: 1; }

.error-note { font-size: 13px; color: rgba(255, 68, 68, 0.9); margin-top: 5px; display: none; }

.login-btn, #googleLoginBtn {
  width: 100%;
  font-weight: bold;
  padding: 14px;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  margin-top: 15px;
  margin-bottom: 10px;
  font-size: 15px;
  transition: 0.3s ease;
}
.login-btn { background-color: #00ddff; color: #000; }
.login-btn:hover { background-color: #00c0e6; }
#googleLoginBtn {
  background-color: #222;
  color: #fff;
  border: 1px solid rgba(255,255,255,0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}
#googleLoginBtn:hover { background-color: #333; }

.forgot-password-link { margin-top: 6px; text-align: left; font-size: 12px; }
.forgot-password-link a { color: rgba(255, 255, 255, 0.6); text-decoration: none; transition: color 0.3s ease; }
.forgot-password-link a:hover { color: rgba(255, 255, 255, 0.9); text-decoration: none; }

.login-link { text-align: center; margin-top: 25px; font-size: 14px; }
.login-link a { color: #00ddff; text-decoration: none; transition: 0.3s ease; }
.login-link a:hover { text-decoration: underline; }

.terms-text { font-size: 14px; color: rgba(255,255,255,0.75); text-align: center; margin-top: 60px; line-height: 1.6; }
.terms-text a { color: #4fc3f7; text-decoration: none; }
.terms-text a:hover { text-decoration: underline; }

@media screen and (max-width: 768px) { 
  .main-container { flex-direction: column; } 
  .form-section { padding: 20px; height: 100vh; } 
  .image-section { display: none; } 
}
.image-section { flex: 1; background-color: #000; }
.image-section img { width: 100%; height: 100%; object-fit: cover; object-position: top center; }
</style>
</head>
<body>
<div class="main-container">
  <div class="form-section">
    <div class="form-content">
      <div class="logo">
        <a href="/"><img src="images/logo.png" alt="Playnex Digital Logo" /></a>
      </div>
      <h1>Login to your account</h1>
      <p class="login-desc">Select a login method to proceed</p>

      <form id="loginForm" novalidate>
        <label for="email">Email Address<span class="required">*</span></label>
        <input type="email" id="email" placeholder="Enter your email" required />

        <label for="password">Password<span class="required">*</span></label>
        <div class="input-wrapper">
          <input type="password" id="password" placeholder="Enter your password" required />
          <button type="button" class="toggle-password" onclick="togglePassword('password', this)">
            <svg viewBox="0 0 24 24">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
              <path d="M12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8z"/>
              <line class="slash" x1="4" y1="2" x2="20" y2="22" />
            </svg>
          </button>
        </div>

        <div class="error-note" id="loginError">Please enter valid email and password.</div>
        <button type="submit" class="login-btn">Login</button>
      </form>

      <div class="forgot-password-link">
        <a href="https://dashboard.spmusiczone.com/forgot-your-password">Forgot your password?</a>
      </div>

      <button type="button" id="googleLoginBtn">
        <img src="https://www.svgrepo.com/show/355037/google.svg" alt="Google Icon" width="18" /> Login with Google
      </button>

      <div class="login-link">
        I need an account? <a href="https://dashboard.spmusiczone.com/signup">Create one</a>
      </div>

      <div class="terms-text">
        By logging in, you agree to our <a href="https://spmusiczone.com/terms-and-conditions" target="_blank">Terms & Conditions</a> and <a href="https://spmusiczone.com/privacy-policy" target="_blank">Privacy Policy</a>.
      </div>
    </div>
  </div>

  <div class="image-section">
    <img src="images/form-image.png" alt="Form Image" />
  </div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_PROJECT_ID.appspot.com",
  messagingSenderId: "YOUR_SENDER_ID",
  appId: "YOUR_APP_ID"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const googleProvider = new GoogleAuthProvider();

const form = document.getElementById('loginForm');
const email = document.getElementById('email');
const password = document.getElementById('password');
const loginError = document.getElementById('loginError');
const googleBtn = document.getElementById('googleLoginBtn');

function togglePassword(id, btn) {
  const field = document.getElementById(id);
  const isVisible = field.type === 'text';
  field.type = isVisible ? 'password' : 'text';
  btn.classList.toggle('active', !isVisible);
}

function validateField(input) {
  if (!input.value.trim()) {
    input.classList.add('invalid');
    input.classList.remove('valid');
  } else {
    input.classList.remove('invalid');
    input.classList.add('valid');
  }
}

email.addEventListener('blur', () => validateField(email));
password.addEventListener('blur', () => validateField(password));

form.addEventListener('submit', async (e) => {
  e.preventDefault();
  validateField(email);
  validateField(password);
  const emailVal = email.value.trim();
  const passwordVal = password.value.trim();
  if(emailVal && passwordVal){
    try{
      await signInWithEmailAndPassword(auth,emailVal,passwordVal);
      loginError.style.display = "none";
      window.location.href = "dashboard.html";
    }catch(error){
      loginError.textContent = error.message;
      loginError.style.display = "block";
    }
  }else{
    loginError.textContent = "Please enter valid email and password.";
    loginError.style.display = "block";
  }
});

googleBtn.addEventListener('click', async () => {
  try {
    await signInWithPopup(auth, googleProvider);
    window.location.href = "dashboard.html";
  } catch(error) {
    alert(error.message);
  }
});
</script>
</body>
</html>
